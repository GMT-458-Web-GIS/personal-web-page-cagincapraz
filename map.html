<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Map | Çağın Çapraz</title>
  <link rel="stylesheet" href="style.css"/>

  <!-- OpenLayers CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/ol@v9.2.4/ol.css"/>

  <style>
    #map{
      width:80%;
      height:500px;
      margin:40px auto;
      border:2px solid #00eaff;
      box-shadow:0 0 10px #00eaff;
    }
    .ol-popup{
      background:rgba(0,0,0,0.9);
      color:#00eaff;
      padding:10px;
      border:1px solid #00eaff;
      border-radius:6px;
      font-size:14px;
      min-width:120px;
      text-align:center;
    }
  </style>
</head>
<body>

  <!-- Üst Menü -->
  <nav class="navbar">
    <ul>
      <li><a href="index.html">Home</a></li>
      <li><a href="background.html">Background</a></li>
      <li><a href="projects.html">Projects</a></li>
      <li><a href="map.html" class="active">Map</a></li>
      <li><a href="social.html">Social</a></li>
    </ul>
  </nav>

  <h1 class="neon-text" style="text-align:center;margin-top:50px;">Visited Cities Map</h1>

  <div id="map"></div>

  <!-- OpenLayers JS -->
  <script src="https://cdn.jsdelivr.net/npm/ol@v9.2.4/dist/ol.js"></script>

  <script>
    // İşaretlenecek şehirler: [Etiket, lon, lat]
    const cities = [
      ["Ankara – Ziyaret Edilen İl", 32.85, 39.93],
      ["Edirne – Ziyaret Edilen İl", 26.56, 41.68],
      ["Tekirdağ – Ziyaret Edilen İl", 27.51, 40.98],
      ["Kütahya – Ziyaret Edilen İl", 29.98, 39.42],
      ["Isparta – Ziyaret Edilen İl", 30.55, 37.76],
      ["Afyon – Ziyaret Edilen İl", 30.54, 38.76],
      ["Samsun – Ziyaret Edilen İl", 36.33, 41.28],
      ["Ordu – Ziyaret Edilen İl", 37.88, 41.00],
      ["Balıkesir – Ziyaret Edilen İl", 27.89, 39.65],
      ["Antalya – Ziyaret Edilen İl", 30.70, 36.89],
      ["Muğla – Ziyaret Edilen İl", 28.36, 37.21],
      ["Aydın – Ziyaret Edilen İl", 27.84, 37.84],
      ["Manisa – Ziyaret Edilen İl", 27.42, 38.61],
      ["İzmir – Ziyaret Edilen İl", 27.14, 38.42],
      ["Uşak – Ziyaret Edilen İl", 29.41, 38.68],
      ["Eskişehir – Ziyaret Edilen İl", 30.52, 39.76],
      ["Mersin – Ziyaret Edilen İl", 34.63, 36.80],
      ["Kayseri – Ziyaret Edilen İl", 35.49, 38.73],
      ["Kırşehir – Ziyaret Edilen İl", 34.16, 39.15],
      ["Bolu – Ziyaret Edilen İl", 31.61, 40.56],
      ["Kastamonu – Ziyaret Edilen İl", 33.78, 41.38],
      ["Sofya – Bulgaria (Visited City)", 23.32, 42.69],
      ["Rabat – Morocco (Visited City)", -6.83, 34.02]
    ];

    // Harita (ESRI Satellite) — dünya görünümü
    const map = new ol.Map({
      target: "map",
      layers: [
        new ol.layer.Tile({
          source: new ol.source.XYZ({
            url: "https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"
          })
        })
      ],
      view: new ol.View({
        center: ol.proj.fromLonLat([15, 35]),
        zoom: 3
      })
    });

    // Neon nokta stili
    const markerStyle = new ol.style.Style({
      image: new ol.style.Circle({
        radius: 6,
        fill: new ol.style.Fill({ color: "#00eaff" }),
        stroke: new ol.style.Stroke({ color: "white", width: 2 })
      })
    });

    // Vektör katmanı (markerlar)
    const markerLayer = new ol.layer.Vector({
      source: new ol.source.Vector({
        features: cities.map(c => {
          const f = new ol.Feature({
            geometry: new ol.geom.Point(ol.proj.fromLonLat([c[1], c[2]]))
          });
          f.set("name", c[0]);
          return f;
        })
      }),
      style: markerStyle
    });
    map.addLayer(markerLayer);

    // Popup
    const popup = document.createElement("div");
    popup.className = "ol-popup";
    const overlay = new ol.Overlay({
      element: popup,
      positioning: "bottom-center",
      stopEvent: false,
      offset: [0, -10]
    });
    map.addOverlay(overlay);

    // Tıklamada popup göster
    map.on("click", (evt) => {
      const feature = map.forEachFeatureAtPixel(evt.pixel, f => f);
      if (feature) {
        overlay.setPosition(feature.getGeometry().getCoordinates());
        popup.innerHTML = feature.get("name");
      } else {
        popup.innerHTML = "";
      }
    });
  </script>

  <footer>
    <p>© 2025 Çağın Çapraz | All Rights Reserved</p>
  </footer>
</body>
</html>

